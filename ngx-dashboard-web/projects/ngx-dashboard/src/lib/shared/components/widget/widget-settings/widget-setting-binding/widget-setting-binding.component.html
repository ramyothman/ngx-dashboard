<div class="form-widget-setttings" *ngIf="widget">
  <div class="row form-field">
    <div class="labelEdit col col-md-12">Data Source</div>
    <div class="editorEdit col col-md-12">
      <ng-select [items]="dataSourcesList"
      bindLabel="name"
      bindValue="id"
      groupBy="connection"
      [(ngModel)]="selectedDataSource"
      (change)="dataSourceChanged($event)"
      >
      <ng-template ng-optgroup-tmp let-item="item">
          {{item.connection || 'Unnamed group'}}
      </ng-template>
    </ng-select>
    </div>
  </div>
<div class="row" *ngIf="selectedSource">
  <div class="col col-md-12">
    <div class="row form-field">
      <div class="labelEdit col col-md-12">xAxis</div>
      <div class="editorEdit col col-md-12">
        <ng-select [items]="selectedSource.columns"
        bindLabel="name"
        bindValue="name"
        groupBy="dataType"
        [(ngModel)]="widget.xAxis"
        (change)="columnChanged($event)"
        >
        <ng-template ng-optgroup-tmp let-item="item">
            {{item.dataType || 'Other'}}
        </ng-template>
      </ng-select>
      </div>
    </div>

  </div>
</div>
<div class="row" *ngIf="selectedSource">
  <div class="col col-md-12">
    <div class="row form-field">
      <div class="labelEdit col col-md-12">yAxis</div>
      <div class="editorEdit col col-md-12">
        <ng-select [items]="selectedSource.columns"
        [multiple] = "true"
        bindLabel="name"
        bindValue="name"
        groupBy="dataType"
        [(ngModel)]="widget.yAxis"
        (change)="columnChanged($event)"
        >
        <ng-template ng-optgroup-tmp let-item="item">
            {{item.dataType || 'Other'}}
        </ng-template>
      </ng-select>
      </div>
    </div>
    
  </div>
</div>
<div class="row" *ngIf="selectedSource">
  <div class="col col-md-12">
    <div class="row form-field">
      <div class="labelEdit col col-md-12">groupBy</div>
      <div class="editorEdit col col-md-12">
        <ng-select [items]="selectedSource.columns"
        [multiple] = "true"
        bindLabel="name"
        bindValue="name"
        groupBy="dataType"
        [(ngModel)]="widget.groupBy"
        (change)="columnChanged($event)"
        >
        <ng-template ng-optgroup-tmp let-item="item">
            {{item.dataType || 'Other'}}
        </ng-template>
      </ng-select>
      </div>
    </div>
    
  </div>
</div>

</div>
