import { Component, Input, Output, ElementRef, ViewChild, Renderer, EventEmitter, ViewContainerRef, ContentChildren, NgModule } from '@angular/core';
import { __values } from 'tslib';
import { CommonModule } from '@angular/common';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GridStackItem = /** @class */ (function () {
    function GridStackItem() {
        this.x = 0;
        this.y = 0;
        this.height = 1;
        this.width = 1;
        this.noResize = false;
        this.autoPosition = false;
        this.marginWidth = '10px';
    }
    /**
     * @param {?} widget
     * @return {?}
     */
    GridStackItem.Clone = /**
     * @param {?} widget
     * @return {?}
     */
    function (widget) {
        var /** @type {?} */ result = new GridStackItem();
        result.autoPosition = widget.autoPosition;
        result.customId = widget.customId;
        result.el = widget.el;
        result.height = widget.height;
        result.locked = widget.locked;
        result.maxHeight = widget.maxHeight;
        result.maxWidth = widget.maxWidth;
        result.minHeight = widget.minHeight;
        result.minWidth = widget.minWidth;
        result.noMove = widget.noMove;
        result.noResize = widget.noResize;
        result.width = widget.width;
        result.x = widget.x;
        result.y = widget.y;
        return result;
    };
    return GridStackItem;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GridStackOptions = /** @class */ (function () {
    function GridStackOptions() {
    }
    return GridStackOptions;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GridStackItemComponent = /** @class */ (function () {
    function GridStackItemComponent(el, renderer) {
        this.el = el;
        this.renderer = renderer;
        this.GridConfigurationChanged = new EventEmitter();
        this.contentComponentRef = null;
        this.jGridRef = null;
        this.jWidgetRef = null;
        this.jWidgetRef = el.nativeElement;
    }
    Object.defineProperty(GridStackItemComponent.prototype, "nativeElement", {
        get: /**
         * @return {?}
         */
        function () {
            return this.el.nativeElement;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    GridStackItemComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.RenderWidget(null);
    };
    /**
     * @param {?} item
     * @return {?}
     */
    GridStackItemComponent.prototype.UpdateWidget = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
    };
    /**
     * @param {?} item
     * @return {?}
     */
    GridStackItemComponent.prototype.RenderWidget = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        var /** @type {?} */ renderer = this.renderer;
        if (item != null) {
            this.option = item;
        }
        this.renderer.setElementAttribute(this.nativeElement, 'style', 'margin-left:' + this.option.marginWidth + ';');
        this.renderer.setElementAttribute(this.nativeElement, 'data-gs-x', String(this.option.x));
        this.renderer.setElementAttribute(this.nativeElement, 'data-gs-y', String(this.option.y));
        this.renderer.setElementAttribute(this.nativeElement, 'data-gs-width', String(this.option.width));
        this.renderer.setElementAttribute(this.nativeElement, 'data-gs-height', String(this.option.height));
        if (this.option.minWidth) {
            renderer.setElementAttribute(this.nativeElement, 'data-gs-min-width', String(this.option.minWidth));
        }
        if (this.option.noResize != null && this.option.noResize === true) {
            renderer.setElementAttribute(this.nativeElement, 'data-gs-no-resize', 'yes');
        }
    };
    /**
     * @param {?} x
     * @param {?} y
     * @param {?} width
     * @param {?} height
     * @return {?}
     */
    GridStackItemComponent.prototype.update = /**
     * @param {?} x
     * @param {?} y
     * @param {?} width
     * @param {?} height
     * @return {?}
     */
    function (x, y, width, height) {
        // console.log('here');
        if (x === this.option.x && y === this.option.y && width === this.option.width && height === this.option.height) {
            return;
        }
        if (this.option != null) {
            this.option.x = x;
            this.option.y = y;
            this.option.width = width;
            this.option.height = height;
            var /** @type {?} */ optionNew = GridStackItem.Clone(this.option);
            this.GridConfigurationChanged.emit(optionNew);
        }
    };
    /**
     * @return {?}
     */
    GridStackItemComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    GridStackItemComponent.prototype.ngOnDestroy = /**
     * @return {?}
     */
    function () {
        if (this.contentComponentRef !== null) {
            this.contentComponentRef.destroy();
        }
    };
    GridStackItemComponent.decorators = [
        { type: Component, args: [{
                    selector: 'ngx-grid-stack-item',
                    template: "<div class=\"grid-stack-item-content\">\n  <div #contentPlaceholder *ngIf=\"contentTemplate\"></div>\n  <ng-content *ngIf=\"!contentTemplate\"></ng-content>\n</div>\n",
                    styles: [""]
                },] },
    ];
    /** @nocollapse */
    GridStackItemComponent.ctorParameters = function () { return [
        { type: ElementRef },
        { type: Renderer }
    ]; };
    GridStackItemComponent.propDecorators = {
        contentPlaceholder: [{ type: ViewChild, args: ['contentPlaceholder', { read: ViewContainerRef },] }],
        contentTemplate: [{ type: Input }],
        option: [{ type: Input }],
        GridConfigurationChanged: [{ type: Output }]
    };
    return GridStackItemComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GridStackComponent = /** @class */ (function () {
    function GridStackComponent(el, renderer) {
        this.el = el;
        this.renderer = renderer;
        this.options = new GridStackOptions();
        this.gridStack = null;
        this.grid = null;
        this.defaultOptions = {
            cellHeight: '60px',
            width: 12,
            height: 0,
            animate: true,
            float: false,
            resizable: true
        };
    }
    /**
     * @param {?} item
     * @return {?}
     */
    GridStackComponent.prototype.makeWidget = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        item.jGridRef = this.grid;
        if (item.option != null && item.option.noResize != null && item.option.noResize) {
            return;
        }
        this.grid.resizable(item.nativeElement, true);
        this.grid.move(item.nativeElement, item.option.x, item.option.y);
        this.grid.resize(item.nativeElement, item.option.width, item.option.height);
    };
    /**
     * @param {?} item
     * @return {?}
     */
    GridStackComponent.prototype.updateWidget = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        this.grid.resizable(item.nativeElement, true);
        this.grid.move(item.nativeElement, item.option.x, item.option.y);
        this.grid.resize(item.nativeElement, item.option.width, item.option.height);
    };
    /**
     * @param {?} item
     * @return {?}
     */
    GridStackComponent.prototype.AddWidget = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        item.jGridRef = this.grid;
        if (item.option != null && item.option.noResize != null && item.option.noResize) {
            return;
        }
        this.grid.makeWidget(item.nativeElement);
        this.grid.resizable(item.nativeElement, true);
        this.grid.move(item.nativeElement, item.option.x, item.option.y);
        this.grid.resize(item.nativeElement, item.option.width, item.option.height);
    };
    /**
     * @param {?} item
     * @return {?}
     */
    GridStackComponent.prototype.RemoveWidget = /**
     * @param {?} item
     * @return {?}
     */
    function (item) {
        this.grid.removeWidget(item.nativeElement, false);
    };
    /**
     * @return {?}
     */
    GridStackComponent.prototype.ngAfterContentInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        var /** @type {?} */ that = this;
        var /** @type {?} */ nativeElement = this.el.nativeElement;
        if (this.options == null) {
            this.options = new GridStackOptions();
        }
        try {
            for (var _a = __values(Object.keys(this.defaultOptions)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var key = _b.value;
                if (!this.options.hasOwnProperty(key)) {
                    this.options = this.defaultOptions[key];
                }
            }
        }
        catch (e_1_1) { e_1 = { error: e_1_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_c = _a.return)) _c.call(_a);
            }
            finally { if (e_1) throw e_1.error; }
        }
        this.renderer.setElementAttribute(nativeElement, 'data-gs-width', String(this.options.width));
        this.renderer.setElementAttribute(nativeElement, 'data-gs-height', String(this.options.height));
        this.gridStack = jQuery(nativeElement).gridstack(this.options);
        this.grid = this.gridStack.data('gridstack');
        this.gridStack.on('change', function (e, items) {
            _.each(items, function (item) { return _this.widgetChanged(item); });
        });
        // Initialize widgets
        this.items.forEach(function (item) { return that.makeWidget(item); });
        var e_1, _c;
    };
    /**
     * @param {?} change
     * @return {?}
     */
    GridStackComponent.prototype.widgetChanged = /**
     * @param {?} change
     * @return {?}
     */
    function (change) {
        var /** @type {?} */ jWidget = change.el;
        var /** @type {?} */ gridStackItem = this.items.find(function (item) { return item.jWidgetRef !== null ? item.jWidgetRef === jWidget[0] : false; });
        if (!gridStackItem) {
            return;
        }
        gridStackItem.update(change.x, change.y, change.width, change.height);
    };
    GridStackComponent.decorators = [
        { type: Component, args: [{
                    selector: 'ngx-grid-stack',
                    template: "<ng-content></ng-content>\n",
                    styles: [':host { display: block; }']
                },] },
    ];
    /** @nocollapse */
    GridStackComponent.ctorParameters = function () { return [
        { type: ElementRef },
        { type: Renderer }
    ]; };
    GridStackComponent.propDecorators = {
        options: [{ type: Input }],
        items: [{ type: ContentChildren, args: [GridStackItemComponent,] }]
    };
    return GridStackComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var GridStackModule = /** @class */ (function () {
    function GridStackModule() {
    }
    GridStackModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        CommonModule
                    ],
                    declarations: [GridStackComponent, GridStackItemComponent],
                    exports: [GridStackComponent, GridStackItemComponent]
                },] },
    ];
    return GridStackModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { GridStackItem, GridStackOptions, GridStackComponent, GridStackItemComponent, GridStackModule };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWdyaWQtc3RhY2suanMubWFwIiwic291cmNlcyI6WyJuZzovL25neC1ncmlkLXN0YWNrL2xpYi9tb2RlbHMvZ3JpZC1zdGFjay1pdGVtLm1vZGVsLnRzIiwibmc6Ly9uZ3gtZ3JpZC1zdGFjay9saWIvbW9kZWxzL2dyaWQtc3RhY2stb3B0aW9ucy5tb2RlbC50cyIsIm5nOi8vbmd4LWdyaWQtc3RhY2svbGliL2dyaWQtc3RhY2staXRlbS9ncmlkLXN0YWNrLWl0ZW0uY29tcG9uZW50LnRzIiwibmc6Ly9uZ3gtZ3JpZC1zdGFjay9saWIvZ3JpZC1zdGFjay9ncmlkLXN0YWNrLmNvbXBvbmVudC50cyIsIm5nOi8vbmd4LWdyaWQtc3RhY2svbGliL2dyaWQtc3RhY2subW9kdWxlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGNsYXNzIEdyaWRTdGFja0l0ZW0ge1xuICAgIHggPSAwO1xuICAgIHkgPSAwO1xuICAgIGhlaWdodCA9IDE7XG4gICAgd2lkdGggPSAxO1xuICAgIG1heEhlaWdodDogbnVtYmVyO1xuICAgIG1pbkhlaWdodDogbnVtYmVyO1xuICAgIG1heFdpZHRoOiBudW1iZXI7XG4gICAgbWluV2lkdGg6IG51bWJlcjtcbiAgICBub1Jlc2l6ZSA9IGZhbHNlO1xuICAgIG5vTW92ZTogYm9vbGVhbjtcbiAgICBhdXRvUG9zaXRpb24gPSBmYWxzZTtcbiAgICBtYXJnaW5XaWR0aCA9ICcxMHB4JztcbiAgICBsb2NrZWQ6IGJvb2xlYW47XG4gICAgZWw6IGFueTtcbiAgICBjdXN0b21JZDogc3RyaW5nO1xuICAgIHN0YXRpYyBDbG9uZSh3aWRnZXQ6IEdyaWRTdGFja0l0ZW0pIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEdyaWRTdGFja0l0ZW0oKTtcblxuICAgICAgICByZXN1bHQuYXV0b1Bvc2l0aW9uID0gd2lkZ2V0LmF1dG9Qb3NpdGlvbjtcbiAgICAgICAgcmVzdWx0LmN1c3RvbUlkID0gd2lkZ2V0LmN1c3RvbUlkO1xuICAgICAgICByZXN1bHQuZWwgPSB3aWRnZXQuZWw7XG4gICAgICAgIHJlc3VsdC5oZWlnaHQgPSB3aWRnZXQuaGVpZ2h0O1xuICAgICAgICByZXN1bHQubG9ja2VkID0gd2lkZ2V0LmxvY2tlZDtcbiAgICAgICAgcmVzdWx0Lm1heEhlaWdodCA9IHdpZGdldC5tYXhIZWlnaHQ7XG4gICAgICAgIHJlc3VsdC5tYXhXaWR0aCA9IHdpZGdldC5tYXhXaWR0aDtcbiAgICAgICAgcmVzdWx0Lm1pbkhlaWdodCA9IHdpZGdldC5taW5IZWlnaHQ7XG4gICAgICAgIHJlc3VsdC5taW5XaWR0aCA9IHdpZGdldC5taW5XaWR0aDtcbiAgICAgICAgcmVzdWx0Lm5vTW92ZSA9IHdpZGdldC5ub01vdmU7XG4gICAgICAgIHJlc3VsdC5ub1Jlc2l6ZSA9IHdpZGdldC5ub1Jlc2l6ZTtcbiAgICAgICAgcmVzdWx0LndpZHRoID0gd2lkZ2V0LndpZHRoO1xuICAgICAgICByZXN1bHQueCA9IHdpZGdldC54O1xuICAgICAgICByZXN1bHQueSA9IHdpZGdldC55O1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEdyaWRTdGFja09wdGlvbnMge1xuICAgIGFjY2VwdFdpZGdldHM6IGJvb2xlYW47XG4gICAgYWx3YXlzU2hvd1Jlc2l6ZUhhbmRsZTogYm9vbGVhbjtcbiAgICBhbmltYXRlOiBib29sZWFuO1xuICAgIGF1dG86IGJvb2xlYW47XG4gICAgY2VsbEhlaWdodDogc3RyaW5nOyAvL2RlZmF1bHQgaXMgNjAgY291bGQgYmUgYW4gaW50ZWdlciAocHgpIGEgc3RyaW5nIChleDogJzEwZW0nLCAnMTAwcHgnLCAnMTByZW0nKSAwIG9yIG51bGwgJ2F1dG8nIC0gaGVpZ2h0IHdpbGwgYmUgY2FsY3VsYXRlZCBmcm9tIGNlbGwgd2lkdGguXG4gICAgZGRQbHVnaW46IGJvb2xlYW47XG4gICAgZGlzYWJsZURyYWc6IGJvb2xlYW47XG4gICAgZGlzYWJsZVJlc2l6ZTogYm9vbGVhbjtcbiAgICBkcmFnZ2FibGU6IGJvb2xlYW47XG4gICAgaGFuZGxlOiBzdHJpbmc7IC8vZGVmYXVsdDogJy5ncmlkLXN0YWNrLWl0ZW0tY29udGVudCdcbiAgICBoYW5kbGVDbGFzczogc3RyaW5nOyAgLy9kcmFnZ2FibGUgaGFuZGxlIGNsYXNzIChlLmcuICdncmlkLXN0YWNrLWl0ZW0tY29udGVudCcpLiBJZiBzZXQgaGFuZGxlIGlzIGlnbm9yZWQgKGRlZmF1bHQ6IG51bGwpXG4gICAgaGVpZ2h0OiBudW1iZXI7IC8vbWF4aW11bSByb3dzIGFtb3VudC4gRGVmYXVsdCBpcyAwIHdoaWNoIG1lYW5zIG5vIG1heGltdW0gcm93c1xuICAgIGZsb2F0OiBib29sZWFuOyAvLyBlbmFibGUgZmxvYXRpbmcgd2lkZ2V0cyAoZGVmYXVsdDogZmFsc2UpXG4gICAgaXRlbUNsYXNzOiBzdHJpbmc7ICAvL3dpZGdldCBjbGFzcyAoZGVmYXVsdDogJ2dyaWQtc3RhY2staXRlbScpXG4gICAgbWluV2lkdGg6IHN0cmluZzsgLy9taW5pbWFsIHdpZHRoLklmIHdpbmRvdyB3aWR0aCBpcyBsZXNzLCBncmlkIHdpbGwgYmUgc2hvd24gaW4gb25lIC0gY29sdW1uIG1vZGUgKGRlZmF1bHQ6IDc2OClcbiAgICBkaXNhYmxlT25lQ29sdW1uTW9kZTogYm9vbGVhbjsgLy9kaXNhYmxlcyB0aGUgb25Db2x1bW5Nb2RlIHdoZW4gdGhlIHdpbmRvdyB3aWR0aCBpcyBsZXNzIHRoYW4gbWluV2lkdGggKGRlZmF1bHQ6ICdmYWxzZScpXG4gICAgb25lQ29sdW1uTW9kZUNsYXNzOiBzdHJpbmc7IC8vY2xhc3Mgc2V0IG9uIGdyaWQgd2hlbiBpbiBvbmUgY29sdW1uIG1vZGUgKGRlZmF1bHQ6ICdncmlkLXN0YWNrLW9uZS1jb2x1bW4tbW9kZScpXG4gICAgcGxhY2Vob2xkZXJDbGFzczogc3RyaW5nOyAvL2NsYXNzIGZvciBwbGFjZWhvbGRlciAoZGVmYXVsdDogJ2dyaWQtc3RhY2stcGxhY2Vob2xkZXInKVxuICAgIHBsYWNlaG9sZGVyVGV4dDogc3RyaW5nOyAvL3BsYWNlaG9sZGVyIGRlZmF1bHQgY29udGVudCAoZGVmYXVsdDogJycpXG4gICAgcmVzaXphYmxlOiBib29sZWFuOyAvL2FsbG93cyB0byBvdmVycmlkZSBqUXVlcnkgVUkgcmVzaXphYmxlIG9wdGlvbnMuIChkZWZhdWx0OiB7YXV0b0hpZGU6IHRydWUsIGhhbmRsZXM6ICdzZSd9KVxuICAgIHJlbW92YWJsZTogYm9vbGVhbjsgLy9pZiB0cnVlIHdpZGdldHMgY291bGQgYmUgcmVtb3ZlZCBieSBkcmFnZ2luZyBvdXRzaWRlIG9mIHRoZSBncmlkLiBJdCBjb3VsZCBhbHNvIGJlIGEgalF1ZXJ5IHNlbGVjdG9yIHN0cmluZywgaW4gdGhpcyBjYXNlIHdpZGdldHMgd2lsbCBiZSByZW1vdmVkIGJ5IGRyb3BwaW5nIHRoZW0gdGhlcmUgKGRlZmF1bHQ6IGZhbHNlKVxuICAgIHJlbW92ZVRpbWVvdXQ6IG51bWJlcjsgLy8gdGltZSBpbiBtaWxsaXNlY29uZHMgYmVmb3JlIHdpZGdldCBpcyBiZWluZyByZW1vdmVkIHdoaWxlIGRyYWdnaW5nIG91dHNpZGUgb2YgdGhlIGdyaWQuIChkZWZhdWx0OiAyMDAwKVxuICAgIHJ0bDogc3RyaW5nOyAvL2lmIHRydWUgdHVybnMgZ3JpZCB0byBSVEwuIFBvc3NpYmxlIHZhbHVlcyBhcmUgdHJ1ZSwgZmFsc2UsICdhdXRvJyAoZGVmYXVsdDogJ2F1dG8nKSBTZWUgZXhhbXBsZVxuICAgIHN0YXRpY0dyaWQ6IGJvb2xlYW47IC8vbWFrZXMgZ3JpZCBzdGF0aWMgKGRlZmF1bHQgZmFsc2UpLiBJZiB0cnVlIHdpZGdldHMgYXJlIG5vdCBtb3ZhYmxlL3Jlc2l6YWJsZS4gWW91IGRvbid0IGV2ZW4gbmVlZCBqUXVlcnlVSSBkcmFnZ2FibGUvcmVzaXphYmxlLiBBIENTUyBjbGFzcyBncmlkLXN0YWNrLXN0YXRpYyBpcyBhbHNvIGFkZGVkIHRvIHRoZSBjb250YWluZXIuXG4gICAgdmVydGljYWxNYXJnaW46IG51bWJlcjsgLy92ZXJ0aWNhbCBnYXAgc2l6ZSAoZGVmYXVsdDogMjApLiBDYW4gYmU6IGFuIGludGVnZXIgKHB4KSBhIHN0cmluZyAoZXg6ICcyZW0nLCAnMjBweCcsICcycmVtJylcbiAgICB3aWR0aDogbnVtYmVyOyAvL2Ftb3VudCBvZiBjb2x1bW5zIChkZWZhdWx0OiAxMikuIFNldHRpbmcgbm9uLWRlZmF1bHQgdmFsdWUgbXVzdCBiZSBzdXBwb3J0ZWQgYnkgZXF1aXZhbGVudCBjaGFuZ2UgaW4gQ1NTXG59XG4iLCJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIElucHV0LFxuICBPdXRwdXQsXG4gIE9uSW5pdCxcbiAgQ29tcG9uZW50UmVmLFxuICBFbGVtZW50UmVmLFxuICBWaWV3Q2hpbGQsXG4gIFJlbmRlcmVyLFxuICBFdmVudEVtaXR0ZXIsXG4gIE9uRGVzdHJveSxcbiAgQWZ0ZXJWaWV3SW5pdCxcbiAgVmlld0NvbnRhaW5lclJlZlxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEdyaWRTdGFja0l0ZW0gfSBmcm9tICcuLy4uL21vZGVscy9ncmlkLXN0YWNrLWl0ZW0ubW9kZWwnO1xuZGVjbGFyZSB2YXIgalF1ZXJ5OiBhbnk7XG5kZWNsYXJlIHZhciBfOiBhbnk7XG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICduZ3gtZ3JpZC1zdGFjay1pdGVtJyxcbiAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwiZ3JpZC1zdGFjay1pdGVtLWNvbnRlbnRcIj5cbiAgPGRpdiAjY29udGVudFBsYWNlaG9sZGVyICpuZ0lmPVwiY29udGVudFRlbXBsYXRlXCI+PC9kaXY+XG4gIDxuZy1jb250ZW50ICpuZ0lmPVwiIWNvbnRlbnRUZW1wbGF0ZVwiPjwvbmctY29udGVudD5cbjwvZGl2PlxuYCxcbiAgc3R5bGVzOiBbYGBdXG59KVxuZXhwb3J0IGNsYXNzIEdyaWRTdGFja0l0ZW1Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSwgQWZ0ZXJWaWV3SW5pdCB7XG5cbiAgQFZpZXdDaGlsZCgnY29udGVudFBsYWNlaG9sZGVyJywgeyByZWFkOiBWaWV3Q29udGFpbmVyUmVmIH0pIGNvbnRlbnRQbGFjZWhvbGRlcjogVmlld0NvbnRhaW5lclJlZjtcbiAgQElucHV0KCkgY29udGVudFRlbXBsYXRlOiBzdHJpbmc7XG4gIEBJbnB1dCgpIG9wdGlvbjogR3JpZFN0YWNrSXRlbTtcbiAgQE91dHB1dCgpIEdyaWRDb25maWd1cmF0aW9uQ2hhbmdlZCA9IG5ldyBFdmVudEVtaXR0ZXI8R3JpZFN0YWNrSXRlbT4oKTtcblxuICBjb250ZW50Q29tcG9uZW50UmVmOiBDb21wb25lbnRSZWY8YW55PiA9IG51bGw7XG4gIGpHcmlkUmVmOiBhbnkgPSBudWxsO1xuICBwdWJsaWMgaldpZGdldFJlZjogYW55ID0gbnVsbDtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsOiBFbGVtZW50UmVmLCBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcikge1xuICAgICAgdGhpcy5qV2lkZ2V0UmVmID0gZWwubmF0aXZlRWxlbWVudDtcbiAgfVxuICBnZXQgbmF0aXZlRWxlbWVudCgpOiBIVE1MRWxlbWVudCB7XG4gICAgICByZXR1cm4gdGhpcy5lbC5uYXRpdmVFbGVtZW50O1xuICB9XG4gIG5nT25Jbml0KCkge1xuICAgICAgdGhpcy5SZW5kZXJXaWRnZXQobnVsbCk7XG4gIH1cblxuICBVcGRhdGVXaWRnZXQoaXRlbTogR3JpZFN0YWNrSXRlbSkge1xuXG4gIH1cbiAgUmVuZGVyV2lkZ2V0KGl0ZW06IEdyaWRTdGFja0l0ZW0pIHtcbiAgICAgIGNvbnN0IHJlbmRlcmVyID0gdGhpcy5yZW5kZXJlcjtcbiAgICAgIGlmIChpdGVtICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5vcHRpb24gPSBpdGVtO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRBdHRyaWJ1dGUodGhpcy5uYXRpdmVFbGVtZW50LCAnc3R5bGUnLCAnbWFyZ2luLWxlZnQ6JyArIHRoaXMub3B0aW9uLm1hcmdpbldpZHRoICsgJzsnKTtcbiAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudEF0dHJpYnV0ZSh0aGlzLm5hdGl2ZUVsZW1lbnQsICdkYXRhLWdzLXgnLCBTdHJpbmcodGhpcy5vcHRpb24ueCkpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50QXR0cmlidXRlKHRoaXMubmF0aXZlRWxlbWVudCwgJ2RhdGEtZ3MteScsIFN0cmluZyh0aGlzLm9wdGlvbi55KSk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldEVsZW1lbnRBdHRyaWJ1dGUodGhpcy5uYXRpdmVFbGVtZW50LCAnZGF0YS1ncy13aWR0aCcsIFN0cmluZyh0aGlzLm9wdGlvbi53aWR0aCkpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50QXR0cmlidXRlKHRoaXMubmF0aXZlRWxlbWVudCwgJ2RhdGEtZ3MtaGVpZ2h0JywgU3RyaW5nKHRoaXMub3B0aW9uLmhlaWdodCkpO1xuICAgICAgaWYgKHRoaXMub3B0aW9uLm1pbldpZHRoKSB7XG4gICAgICAgICAgcmVuZGVyZXIuc2V0RWxlbWVudEF0dHJpYnV0ZSh0aGlzLm5hdGl2ZUVsZW1lbnQsICdkYXRhLWdzLW1pbi13aWR0aCcsIFN0cmluZyh0aGlzLm9wdGlvbi5taW5XaWR0aCkpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMub3B0aW9uLm5vUmVzaXplICE9IG51bGwgJiYgdGhpcy5vcHRpb24ubm9SZXNpemUgPT09IHRydWUpIHtcbiAgICAgICAgICByZW5kZXJlci5zZXRFbGVtZW50QXR0cmlidXRlKHRoaXMubmF0aXZlRWxlbWVudCwgJ2RhdGEtZ3Mtbm8tcmVzaXplJywgJ3llcycpO1xuICAgICAgfVxuXG4gIH1cblxuICB1cGRhdGUoeDogbnVtYmVyLCB5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAvLyBjb25zb2xlLmxvZygnaGVyZScpO1xuICAgICAgaWYgKHggPT09IHRoaXMub3B0aW9uLnggJiYgeSA9PT0gdGhpcy5vcHRpb24ueSAmJiB3aWR0aCA9PT0gdGhpcy5vcHRpb24ud2lkdGggJiYgaGVpZ2h0ID09PSB0aGlzLm9wdGlvbi5oZWlnaHQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5vcHRpb24gIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMub3B0aW9uLnggPSB4O1xuICAgICAgICAgIHRoaXMub3B0aW9uLnkgPSB5O1xuICAgICAgICAgIHRoaXMub3B0aW9uLndpZHRoID0gd2lkdGg7XG4gICAgICAgICAgdGhpcy5vcHRpb24uaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgICAgY29uc3Qgb3B0aW9uTmV3ID0gR3JpZFN0YWNrSXRlbS5DbG9uZSh0aGlzLm9wdGlvbik7XG4gICAgICAgICAgdGhpcy5HcmlkQ29uZmlndXJhdGlvbkNoYW5nZWQuZW1pdChvcHRpb25OZXcpO1xuICAgICAgfVxuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuXG4gIH1cblxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICAgIGlmICh0aGlzLmNvbnRlbnRDb21wb25lbnRSZWYgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5jb250ZW50Q29tcG9uZW50UmVmLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBRdWVyeUxpc3QsIElucHV0LCBDb250ZW50Q2hpbGRyZW4sIEVsZW1lbnRSZWYsIFJlbmRlcmVyLCBBZnRlckNvbnRlbnRJbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBHcmlkU3RhY2tPcHRpb25zIH0gZnJvbSAnLi8uLi9tb2RlbHMvZ3JpZC1zdGFjay1vcHRpb25zLm1vZGVsJztcbmltcG9ydCB7IEdyaWRTdGFja0l0ZW0gfSBmcm9tICcuLy4uL21vZGVscy9ncmlkLXN0YWNrLWl0ZW0ubW9kZWwnO1xuaW1wb3J0IHsgR3JpZFN0YWNrSXRlbUNvbXBvbmVudCB9IGZyb20gJy4vLi4vZ3JpZC1zdGFjay1pdGVtL2dyaWQtc3RhY2staXRlbS5jb21wb25lbnQnO1xuXG5kZWNsYXJlIHZhciBqUXVlcnk6IGFueTtcbmRlY2xhcmUgdmFyIF86IGFueTtcbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ25neC1ncmlkLXN0YWNrJyxcbiAgdGVtcGxhdGU6IGA8bmctY29udGVudD48L25nLWNvbnRlbnQ+XG5gLFxuICBzdHlsZXM6IFsnOmhvc3QgeyBkaXNwbGF5OiBibG9jazsgfSddXG59KVxuZXhwb3J0IGNsYXNzIEdyaWRTdGFja0NvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyQ29udGVudEluaXQge1xuXG4gIEBJbnB1dCgpIG9wdGlvbnM6IEdyaWRTdGFja09wdGlvbnMgPSBuZXcgR3JpZFN0YWNrT3B0aW9ucygpO1xuICAgIEBDb250ZW50Q2hpbGRyZW4oR3JpZFN0YWNrSXRlbUNvbXBvbmVudCkgaXRlbXM6IFF1ZXJ5TGlzdDxHcmlkU3RhY2tJdGVtQ29tcG9uZW50PjtcbiAgICBwcml2YXRlIGdyaWRTdGFjazogYW55ID0gbnVsbDtcbiAgICBwcml2YXRlIGdyaWQ6IGFueSA9IG51bGw7XG4gICAgcHJpdmF0ZSBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgIGNlbGxIZWlnaHQ6ICc2MHB4JyxcbiAgICAgIHdpZHRoOiAxMixcbiAgICAgIGhlaWdodDogMCxcbiAgICAgIGFuaW1hdGU6IHRydWUsXG4gICAgICBmbG9hdDogZmFsc2UsXG4gICAgICByZXNpemFibGU6IHRydWVcbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBlbDogRWxlbWVudFJlZiwgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgbWFrZVdpZGdldChpdGVtOiBHcmlkU3RhY2tJdGVtQ29tcG9uZW50KSB7XG4gICAgICAgIGl0ZW0uakdyaWRSZWYgPSB0aGlzLmdyaWQ7XG4gICAgICAgIGlmIChpdGVtLm9wdGlvbiAhPSBudWxsICYmIGl0ZW0ub3B0aW9uLm5vUmVzaXplICE9IG51bGwgJiYgaXRlbS5vcHRpb24ubm9SZXNpemUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdyaWQucmVzaXphYmxlKGl0ZW0ubmF0aXZlRWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMuZ3JpZC5tb3ZlKGl0ZW0ubmF0aXZlRWxlbWVudCwgaXRlbS5vcHRpb24ueCwgaXRlbS5vcHRpb24ueSk7XG4gICAgICAgIHRoaXMuZ3JpZC5yZXNpemUoaXRlbS5uYXRpdmVFbGVtZW50LCBpdGVtLm9wdGlvbi53aWR0aCwgaXRlbS5vcHRpb24uaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlV2lkZ2V0KGl0ZW06IEdyaWRTdGFja0l0ZW1Db21wb25lbnQpIHtcbiAgICAgICAgdGhpcy5ncmlkLnJlc2l6YWJsZShpdGVtLm5hdGl2ZUVsZW1lbnQsIHRydWUpO1xuICAgICAgICB0aGlzLmdyaWQubW92ZShpdGVtLm5hdGl2ZUVsZW1lbnQsIGl0ZW0ub3B0aW9uLngsIGl0ZW0ub3B0aW9uLnkpO1xuICAgICAgICB0aGlzLmdyaWQucmVzaXplKGl0ZW0ubmF0aXZlRWxlbWVudCwgaXRlbS5vcHRpb24ud2lkdGgsIGl0ZW0ub3B0aW9uLmhlaWdodCk7XG4gICAgfVxuXG4gICAgcHVibGljIEFkZFdpZGdldChpdGVtOiBHcmlkU3RhY2tJdGVtQ29tcG9uZW50KSB7XG4gICAgICAgIGl0ZW0uakdyaWRSZWYgPSB0aGlzLmdyaWQ7XG4gICAgICAgIGlmIChpdGVtLm9wdGlvbiAhPSBudWxsICYmIGl0ZW0ub3B0aW9uLm5vUmVzaXplICE9IG51bGwgJiYgaXRlbS5vcHRpb24ubm9SZXNpemUpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5ncmlkLm1ha2VXaWRnZXQoaXRlbS5uYXRpdmVFbGVtZW50KTtcbiAgICAgICAgdGhpcy5ncmlkLnJlc2l6YWJsZShpdGVtLm5hdGl2ZUVsZW1lbnQsIHRydWUpO1xuICAgICAgICB0aGlzLmdyaWQubW92ZShpdGVtLm5hdGl2ZUVsZW1lbnQsIGl0ZW0ub3B0aW9uLngsIGl0ZW0ub3B0aW9uLnkpO1xuICAgICAgICB0aGlzLmdyaWQucmVzaXplKGl0ZW0ubmF0aXZlRWxlbWVudCwgaXRlbS5vcHRpb24ud2lkdGgsIGl0ZW0ub3B0aW9uLmhlaWdodCk7XG4gICAgfVxuXG4gICAgcHVibGljIFJlbW92ZVdpZGdldChpdGVtOiBHcmlkU3RhY2tJdGVtQ29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMuZ3JpZC5yZW1vdmVXaWRnZXQoaXRlbS5uYXRpdmVFbGVtZW50LCBmYWxzZSk7XG4gICAgfVxuXG4gICAgbmdBZnRlckNvbnRlbnRJbml0KCk6IHZvaWQge1xuICAgICAgICBjb25zdCB0aGF0ID0gdGhpcztcbiAgICAgICAgY29uc3QgbmF0aXZlRWxlbWVudCA9IHRoaXMuZWwubmF0aXZlRWxlbWVudDtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zID0gbmV3IEdyaWRTdGFja09wdGlvbnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHRoaXMuZGVmYXVsdE9wdGlvbnMpKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gdGhpcy5kZWZhdWx0T3B0aW9uc1trZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0RWxlbWVudEF0dHJpYnV0ZShuYXRpdmVFbGVtZW50LCAnZGF0YS1ncy13aWR0aCcsIFN0cmluZyh0aGlzLm9wdGlvbnMud2lkdGgpKTtcbiAgICAgICAgdGhpcy5yZW5kZXJlci5zZXRFbGVtZW50QXR0cmlidXRlKG5hdGl2ZUVsZW1lbnQsICdkYXRhLWdzLWhlaWdodCcsIFN0cmluZyh0aGlzLm9wdGlvbnMuaGVpZ2h0KSk7XG5cbiAgICAgICAgdGhpcy5ncmlkU3RhY2sgPSBqUXVlcnkobmF0aXZlRWxlbWVudCkuZ3JpZHN0YWNrKHRoaXMub3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZ3JpZCA9IHRoaXMuZ3JpZFN0YWNrLmRhdGEoJ2dyaWRzdGFjaycpO1xuXG4gICAgICAgIHRoaXMuZ3JpZFN0YWNrLm9uKCdjaGFuZ2UnLCAoZTogYW55LCBpdGVtczogYW55KSA9PiB7XG4gICAgICAgICAgICBfLmVhY2goaXRlbXMsIChpdGVtOiBhbnkpID0+IHRoaXMud2lkZ2V0Q2hhbmdlZChpdGVtKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgd2lkZ2V0c1xuICAgICAgICB0aGlzLml0ZW1zLmZvckVhY2goaXRlbSA9PiB0aGF0Lm1ha2VXaWRnZXQoaXRlbSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgd2lkZ2V0Q2hhbmdlZChjaGFuZ2U6IEdyaWRTdGFja0l0ZW0pOiB2b2lkIHtcbiAgICAgICAgY29uc3QgaldpZGdldCA9IGNoYW5nZS5lbDtcbiAgICAgICAgY29uc3QgZ3JpZFN0YWNrSXRlbSA9IHRoaXMuaXRlbXMuZmluZChpdGVtID0+IGl0ZW0ualdpZGdldFJlZiAhPT0gbnVsbCA/IGl0ZW0ualdpZGdldFJlZiA9PT0galdpZGdldFswXSA6IGZhbHNlKTtcbiAgICAgICAgaWYgKCFncmlkU3RhY2tJdGVtKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZ3JpZFN0YWNrSXRlbS51cGRhdGUoY2hhbmdlLngsIGNoYW5nZS55LCBjaGFuZ2Uud2lkdGgsIGNoYW5nZS5oZWlnaHQpO1xuICAgIH1cblxufVxuIiwiaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEdyaWRTdGFja0NvbXBvbmVudCB9IGZyb20gJy4vZ3JpZC1zdGFjay9ncmlkLXN0YWNrLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBHcmlkU3RhY2tJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi9ncmlkLXN0YWNrLWl0ZW0vZ3JpZC1zdGFjay1pdGVtLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlXG4gIF0sXG4gIGRlY2xhcmF0aW9uczogW0dyaWRTdGFja0NvbXBvbmVudCwgR3JpZFN0YWNrSXRlbUNvbXBvbmVudF0sXG4gIGV4cG9ydHM6IFtHcmlkU3RhY2tDb21wb25lbnQsIEdyaWRTdGFja0l0ZW1Db21wb25lbnRdXG59KVxuZXhwb3J0IGNsYXNzIEdyaWRTdGFja01vZHVsZSB7IH1cbiJdLCJuYW1lcyI6WyJ0c2xpYl8xLl9fdmFsdWVzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNBLElBQUE7O2lCQUNRLENBQUM7aUJBQ0QsQ0FBQztzQkFDSSxDQUFDO3FCQUNGLENBQUM7d0JBS0UsS0FBSzs0QkFFRCxLQUFLOzJCQUNOLE1BQU07Ozs7OztJQUliLG1CQUFLOzs7O0lBQVosVUFBYSxNQUFxQjtRQUM5QixxQkFBTSxNQUFNLEdBQUcsSUFBSSxhQUFhLEVBQUUsQ0FBQztRQUVuQyxNQUFNLENBQUMsWUFBWSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUM7UUFDMUMsTUFBTSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDO1FBQ2xDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsTUFBTSxDQUFDLEVBQUUsQ0FBQztRQUN0QixNQUFNLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDOUIsTUFBTSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO1FBQzlCLE1BQU0sQ0FBQyxTQUFTLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQztRQUNwQyxNQUFNLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxRQUFRLENBQUM7UUFDbEMsTUFBTSxDQUFDLFNBQVMs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